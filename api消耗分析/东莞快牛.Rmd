---
title: '东莞快牛25'
author:  ''
date: '`r Sys.Date()`'
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


+ 在api建的广告质量较低, 质量就是消耗情况。


+ api消耗/api创意数量  
  后台消耗/后台数量  
  可以得出平均每条创意的消耗，查看这个数据的差异

+ api的过审率和后台过审率

```sql
select datetime
       , round(api_cost / creative_cnt_api,3) as api_dt
       , round(kuaishou_cost / kuaishou_cnt,3) as kuaishou_dt
from (
select a.date as datetime
            , sum(cost)/10000 as cost
            , sum(case when create_channel=1 then cost else 0 end)/10000 as api_cost
            , sum(case when create_channel<>1 then cost else 0 end) / 10000 as kuaishou_cost
            , sum(b.creative_cnt_api) as creative_cnt_api
            , sum(b.kuaishou_cnt) as kuaishou_cnt
from (select   date
              , create_channel
              , sum(cost) as cost
          from makepolo.creative_report
      	  where date between '2020-10-03' and '2020-11-01'
                             and vendor_id  in (1)
                             and company_id in (25)
          group by 1,2
) a
 left join (
      select dat as date
             , sum(creative_cnt_api) as creative_cnt_api
             , sum(creative_cnt) - sum(creative_cnt_api) as kuaishou_cnt
      from rpt_fancy.mkpl_creative
      where dat between '2020-10-03' and '2020-11-01'
                             and vendor_id  in (1)
                             and company_id in (25)
      group by 1
    ) b on b.date = a.date
group by 1
    ) c
order by 1 desc
```


| datetime | api消耗/api创意数量 | 后台消耗/后台数量 |
| :--- | :--- | :--- |
| 2020-11-01 | 0.402 | 333.051 |
| 2020-10-31 | 468.761 | 500.015 |
| 2020-10-30 | 103.25 | 254.316 |
| 2020-10-29 | 19.36 | 68.662 |
| 2020-10-28 | 5.549 | 40.456 |
| 2020-10-27 | 1.338 | 12.519 |
| 2020-10-26 | 1.1 | 45.255 |
| 2020-10-25 | 0.925 | 15.319 |
| 2020-10-24 | 3.903 | 84.208 |
| 2020-10-23 | 2.169 | 19.696 |
| 2020-10-22 | 7.849 | 17.178 |
| 2020-10-21 | 3.392 | 10.198 |
| 2020-10-20 | 2.277 | 20.823 |
| 2020-10-19 | 2.377 | 12.334 |
| 2020-10-18 | 1.247 | 6.932 |
| 2020-10-17 | 1.067 | 6.574 |
| 2020-10-16 | 2.768 | 13.237 |
| 2020-10-15 | 2.326 | 22.342 |
| 2020-10-14 | 1.233 | 40.988 |
| 2020-10-13 | 1.315 | 24.514 |
| 2020-10-12 | 1.413 | 28.179 |
| 2020-10-11 | 1.778 | 37.996 |
| 2020-10-10 | 1.52 | 87.118 |
| 2020-10-09 | 4.082 | 36.824 |
| 2020-10-08 | 9.095 | 127.692 |
| 2020-10-07 | 17.257 | 260.965 |
| 2020-10-06 | 30.726 | 310.59 |
| 2020-10-05 | 14.496 | 144.474 |
| 2020-10-04 | 11.626 | 154.542 |
| 2020-10-03 | 7.778 | 99.175 |



---

```sql
select   date
        , creative_id
        , create_channel
        , round(sum(cost) / 10000,3)  as cost
    from makepolo.creative_report
    where date between '2020-10-03' and '2020-10-31'
                             and vendor_id  in (1)
                             and company_id in (25)
group by 1,2,3
order by 1 desc,3 desc,4 desc --字段3是否降序决定1或0
limit 5
```

11-01 数据有问题

# 对比每天消耗前5名的creative_id

| date | creative\_id | create\_channel | cost |
| :--- | :--- | :--- | :--- |
| 2020-11-01 | 34469009 | 1 | 477.1679 |
| 2020-11-01 | 34469012 | 1 | 383.3059 |
| 2020-11-01 | 34468883 | 1 | 289.164 |
| 2020-11-01 | 34468881 | 1 | 265.908 |
| 2020-11-01 | 35204858 | 1 | 169.5407 |
| 2020-11-01 | 32420436 | 0 | 5457.407 |
| 2020-11-01 | 33872168 | 0 | 3381.1474 |
| 2020-11-01 | 5454502 | 0 | 2336.3388 |
| 2020-11-01 | 33567390 | 0 | 2275.91 |
| 2020-11-01 | 5454675 | 0 | 1768.7229 |


10-31

| date | creative\_id | create\_channel | cost |
| :--- | :--- | :--- | :--- |
| 2020-10-31 | 34538135 | 1 | 455090.096 |
| 2020-10-31 | 34538117 | 1 | 158659.489 |
| 2020-10-31 | 34326182 | 1 | 107132.83 |
| 2020-10-31 | 34538122 | 1 | 96526.647 |
| 2020-10-31 | 34538143 | 1 | 96479.589 |
| 2020-10-31 | 35104372 | 0 | 415598.285 |
| 2020-10-31 | 34498661 | 0 | 93104.473 |
| 2020-10-31 | 35120934 | 0 | 78241.868 |
| 2020-10-31 | 35104379 | 0 | 60714.149 |
| 2020-10-31 | 34498662 | 0 | 40373.848 |


10-16

| date | creative\_id | create\_channel | cost |
| :--- | :--- | :--- | :--- |
| 2020-10-16 | 25645685 | 1 | 46852.169 |
| 2020-10-16 | 25643989 | 1 | 8954.194 |
| 2020-10-16 | 25645645 | 1 | 4430.048 |
| 2020-10-16 | 25643968 | 1 | 3167.522 |
| 2020-10-16 | 25643876 | 1 | 964.719 |
| 2020-10-16 | 14655160 | 0 | 2559.986 |
| 2020-10-16 | 27800054 | 0 | 2238.325 |
| 2020-10-16 | 27800642 | 0 | 1859.007 |
| 2020-10-16 | 22101640 | 0 | 1680.435 |
| 2020-10-16 | 23272830 | 0 | 1582.27 |




10-13

| date | creative\_id | create\_channel | cost |
| :--- | :--- | :--- | :--- |
| 2020-10-13 | 22942538 | 1 | 3083.914 |
| 2020-10-13 | 23975477 | 1 | 1739.623 |
| 2020-10-13 | 19351076 | 1 | 1135.922 |
| 2020-10-13 | 24324087 | 1 | 1003.13 |
| 2020-10-13 | 22942267 | 1 | 904.017 |
| 2020-10-13 | 22101599 | 0 | 14966.204 |
| 2020-10-13 | 14596757 | 0 | 7411.45 |
| 2020-10-13 | 22101640 | 0 | 7202.964 |
| 2020-10-13 | 20388220 | 0 | 6169.226 |
| 2020-10-13 | 23272856 | 0 | 4410.37 |


# 结论

+ api创建的创意质量普遍不如快手后台

+ 作为二类电商，经常会有权重高的主力创意跑量

+ 当api消耗占比较高时，api会出现消耗非常高的“爆款”创意。反之也成立。








